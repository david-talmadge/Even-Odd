<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit-no">
    <meta name="author" content="David Talmadge">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="css/style.css" rel="stylesheet" type="text/css">
    <title>Guessing Game</title>
  </head>
  <body>
    <div class="wrapper">
      <div class="boxStart">
        <p id="start"></p>
      </div>
      <div class="boxEnd">
        <p><a href="index.html">Back to the Main Page</a>  <span style="float:right;">This page created as academic activity only.</span></p>
      </div>
    </div>
    <script>
      var name = prompt('Please enter your name. ');
      var wins = 0;
      var losses = 0;
      console.log(name);
      loop1();
      alert('Reload page to play again. Goodbye.');
      
      function loop1(){
        let input = prompt('Even or Odd? ');
        if(input!='even'&&input!='odd'){
           input = loop2(input, 'even', 'odd');
        }
        console.log(input);
        alert(`3.. 2.. 1.. `);
          let num1 = Math.floor(Math.random() * 4)+1;
          console.log(num1);
          let num2 = Math.floor(Math.random() * 4) +1;
          console.log(num2);
          let sum = num1 + num2;
          let output = '';
          if(sum/2===Math.floor(sum/2)){
            output = 'even';
          }else{
            output = 'odd';
          }
          if(input===output){
             alert(`${name}, you chose ${input}, the sum was ${sum}, which is an ${output} number, you win!`);
            wins++;
          }else{
             alert(`${name}, you chose ${input}, the sum was ${sum}, which is an ${output} number, you lose!`);
            losses++;
          }
        alert(`That's ${wins} wins and ${losses} losses!`);
        let shouldLoop = prompt('Would you like to play again y/n? ');
        if(shouldLoop==='y') loop1();
      }
      function loop2(g, a, b){
        let check = prompt(`Invalid input, expected: `+a+`/`+b+`.`);
        if(check!=a&&check!=b){
          return loop2(g,a,b);
        }else{
          return check;
        }
      }
    </script>
  </body>
</html>
